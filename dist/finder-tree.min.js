!function(e){e.module("finderTree.config",[]).value("finderTree.config",{debug:!0}),e.module("finderTree.directives",[]),e.module("finderTree.filters",[]),e.module("finderTree.services",[]),e.module("finderTree",["finderTree.config","finderTree.directives","finderTree.filters","finderTree.services","RecursionHelper"])}(angular),function(){function e(e,i){return{restrict:"E",require:"?^ngModel",scope:{data:"=",level:"=?"},replace:!0,template:'<div data-ng-show="data.displayed"><ul style="float: left;"><li ng-repeat="dir in data.dirs" data-ng-click="displayNext($index)"data-ng-class="{\'selected\': dir.selected}">* {{dir.name}} ></li><li ng-repeat="file in data.files" data-ng-click="select(file, $index)"data-ng-class="{\'selected\': file.selected}">- {{file.name}}</li></ul><finder-tree ng-repeat="dir in data.dirs" data="dir" level="level"></finder-tree></div>',compile:function(e){return i.compile(e,function(e,i,r,t){e.$watch("level",function(i){0===i&&(e.data.displayed=!0)}),e.level=angular.isDefined(e.level)?e.level+1:0,void 0===e.level&&(e.data.displayed=!0),e.displayNext=function(i){e.resetDisplay(e.data.dirs,i),e.resetFileDisplay(),e.data.dirs[i].displayed=!0,e.data.dirs[i].selected=!0},e.resetDisplay=function(i,r){void 0!==r&&e.data.dirs[r].selected||angular.forEach(i,function(i){i.selected=!1,i.displayed=!1,e.resetDisplay(i.dirs,r)})},e.resetFileDisplay=function(i){void 0===i&&(i=e.getHighestDirectiveScope().data),angular.forEach(i.dirs,function(i){angular.forEach(i.files,function(e){e.selected=!1}),e.resetFileDisplay(i)}),angular.forEach(i.files,function(e){e.selected=!1})},e.select=function(i,r){e.resetFileDisplay(),e.resetDisplay(e.data.dirs),e.data.files[r].selected=!0,i.path=e.getPath(),t.$setViewValue(i),t.$render()},e.getHighestDirectiveScope=function(){var e=this;if(e.$parent.hasOwnProperty("level")){for(;0!==e.$parent.level;)e=e.$parent;return e.$parent}return this},e.getPath=function(){var e=this,i=[];if(i.push(e.data.name),e.$parent.hasOwnProperty("level"))for(;0!==e.$parent.level;)e=e.$parent,e.hasOwnProperty("data")&&i.push(e.data.name);return i.reverse()}})}}}angular.module("finderTree.directives").directive("finderTree",e),e.$inject=["$compile","RecursionHelper"]}(),function(){function e(){return function(e){return void 0!==e?e+1:void 0}}angular.module("finderTree.filters").filter("filterLevel",e)}(),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(i,r){angular.isFunction(r)&&(r={post:r});var t,n=i.contents().remove();return{pre:r&&r.pre?r.pre:null,post:function(i,a){t||(t=e(n)),t(i,function(e){a.append(e)}),r&&r.post&&r.post.apply(null,arguments)}}}}}]);