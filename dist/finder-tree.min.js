!function(e){e.module("finderTree.config",[]).value("finderTree.config",{debug:!0}),e.module("finderTree.directives",[]),e.module("finderTree.filters",[]),e.module("finderTree.services",[]),e.module("finderTree",["finderTree.config","finderTree.directives","finderTree.filters","finderTree.services","RecursionHelper"])}(angular),function(){function e(e,r){return{restrict:"E",require:"?^ngModel",scope:{data:"=",level:"=?"},replace:!0,transclude:!0,template:'<div data-ng-show="data.displayed"><ul style="float: left;"><li ng-repeat="dir in data.dirs" data-ng-click="displayNext($index)"data-ng-class="{\'ft_selected\': dir.selected}"><i class="ft_folder"></i><span class="ft_span_text">{{dir.name}}</span><i data-ng-class="dir.selected ? \'ft_caret_right_selected\' : \'ft_caret_right\'"></i></li><li ng-repeat="file in data.files" data-ng-click="select(file, $index)"data-ng-class="{\'ft_selected\': file.selected}"><i class="ft_file"></i><span>{{file.name}}</span></li></ul><finder-tree-wrapped ng-repeat="dir in data.dirs" data="dir" level="level"></finder-tree-wrapped></div>',compile:function(e){return r.compile(e,function(e,r,t,a){e.$watch("level",function(r){0===r&&(e.data.displayed=!0)}),e.level=angular.isDefined(e.level)?e.level+1:0,void 0===e.level&&(e.data.displayed=!0),e.displayNext=function(r){e.resetDisplay(e.data.dirs,r),e.resetFileDisplay(),e.data.dirs[r].displayed=!0,e.data.dirs[r].selected=!0},e.resetDisplay=function(r,t){void 0!==t&&e.data.dirs[t].selected||angular.forEach(r,function(r){r.selected=!1,r.displayed=!1,e.resetDisplay(r.dirs,t)})},e.resetFileDisplay=function(r){void 0===r&&(r=e.getHighestDirectiveScope().data),angular.forEach(r.dirs,function(r){angular.forEach(r.files,function(e){e.selected=!1}),e.resetFileDisplay(r)}),angular.forEach(r.files,function(e){e.selected=!1})},e.select=function(r,t){e.resetFileDisplay(),e.resetDisplay(e.data.dirs),e.data.files[t].selected=!0;var i=e.getPath();i.push(r.name),r.path=i,a.$setViewValue(r),a.$render()},e.getHighestDirectiveScope=function(){var e=this;if(e.$parent.hasOwnProperty("level")){for(;0!==e.$parent.level;)e=e.$parent;return e.$parent}return this},e.getPath=function(){var e=this,r=[];if(e.hasOwnProperty("data")&&e.data.hasOwnProperty("name")&&r.push(e.data.name),e.$parent.hasOwnProperty("level"))for(;0!==e.$parent.level;)e=e.$parent,e.hasOwnProperty("data")&&r.push(e.data.name);return r.reverse()}})}}}angular.module("finderTree.directives").directive("finderTreeWrapped",e),e.$inject=["$compile","RecursionHelper"]}(),function(){function e(){return{restrict:"E",require:"?^ngModel",scope:{data:"=",dataModel:"=ngModel"},transclude:!0,replace:!0,template:'<div><finder-tree-wrapped data="data" ng-model="dataModel" data-ng-transclude></finder-tree-wrapped><p class="ft_clear"></p><div>'}}angular.module("finderTree.directives").directive("finderTree",e)}(),function(){function e(){return function(e){return void 0!==e?e+1:void 0}}angular.module("finderTree.filters").filter("filterLevel",e)}(),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(r,t){angular.isFunction(t)&&(t={post:t});var a,i=r.contents().remove();return{pre:t&&t.pre?t.pre:null,post:function(r,n){a||(a=e(i)),a(r,function(e){n.append(e)}),t&&t.post&&t.post.apply(null,arguments)}}}}}]);