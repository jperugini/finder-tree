!function(e){e.module("finderTree.config",[]).value("finderTree.config",{debug:!0}),e.module("finderTree.directives",[]),e.module("finderTree.filters",[]),e.module("finderTree.services",[]),e.module("finderTree",["finderTree.config","finderTree.directives","finderTree.filters","finderTree.services","RecursionHelper","resizable"])}(angular),function(e,t){"use strict";e.module("resizable",[]).directive("resizable",function(){return{restrict:"AE",link:function(e,a,r){a.addClass("resizable");var i,n,l,s=window.getComputedStyle(a[0],null),d=parseInt(s.getPropertyValue("width")),c=parseInt(s.getPropertyValue("height")),o=e.$eval(r.rDirections),u=e.$eval(r.rCenteredX)?2:1,p=e.$eval(r.rCenteredY)?2:1;e.initW===t&&(e.initW=parseInt(s.getPropertyValue("width")));for(var f=function(e){var t="x"===l?i-e.clientX:i-e.clientY;switch(n){case"top":r.rFlex?a[0].style.flexBasis=c+t*p+"px":a[0].style.height=c+t*p+"px";break;case"right":g(d-t*u);break;case"bottom":r.rFlex?a[0].style.flexBasis=c-t*p+"px":a[0].style.height=c-t*p+"px";break;case"left":g(d+t*u)}},g=function(t){t>e.initW&&(r.rFlex?a[0].style.flexBasis=t+"px":a[0].style.width=t+"px")},h=function(e,t){n=t,l="left"===n||"right"===n?"x":"y",i="x"===l?e.clientX:e.clientY,a.addClass("no-transition"),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",f,!1),d=parseInt(s.getPropertyValue("width")),c=parseInt(s.getPropertyValue("height")),a.removeClass("no-transition")}),document.addEventListener("mousemove",f,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},v=0;v<o.length;v++)!function(){var e=document.createElement("div"),t=o[v];e.setAttribute("class","rg-"+o[v]),e.innerHTML="<span></span>",a[0].appendChild(e),e.ondragstart=function(){return!1},e.addEventListener("mousedown",function(e){h(e,t)},!1)}()}}})}(angular),function(){function e(e,t){return{restrict:"E",require:"?^ngModel",scope:{data:"=",level:"=?"},replace:!0,transclude:!0,template:'<div data-ng-show="data.displayed" class="finder-tree"><ul resizable r-directions="[\'right\']"><li ng-repeat="dir in data.dirs" data-ng-click="displayNext($index)"data-ng-class="{\'ft_selected\': dir.selected}"><i class="ft_folder"></i><span class="ft_span_text">{{dir.name}}</span><i data-ng-class="dir.selected ? \'ft_caret_right_selected\' : \'ft_caret_right\'"></i></li><li ng-repeat="file in data.files" data-ng-click="select(file, $index)"data-ng-class="{\'ft_selected\': file.selected}"><i class="ft_file"></i><span class="ft_span_text_file">{{file.name}}</span></li></ul><finder-tree-wrapped ng-repeat="dir in data.dirs" data="dir" level="level"></finder-tree-wrapped></div>',compile:function(e){return t.compile(e,function(e,t,a,r){e.$watch("level",function(t){0===t&&(e.data.displayed=!0)}),e.level=angular.isDefined(e.level)?e.level+1:0,e.displayNext=function(t){e.resetDisplay(e.data.dirs,t),e.resetFileDisplay(),e.data.dirs[t].displayed=!0,e.data.dirs[t].selected=!0;var a=e.getPath();a.push(e.data.dirs[t].name);var i=e.data.dirs[t].dirs.length+e.data.dirs[t].files.length,n={};n.path=a,n.itemNumber=i,r.$setViewValue(n),r.$render()},e.resetDisplay=function(t,a){void 0!==a&&e.data.dirs[a].selected||angular.forEach(t,function(t){t.selected=!1,t.displayed=!1,e.resetDisplay(t.dirs,a)})},e.resetFileDisplay=function(t){void 0===t&&(t=e.getHighestDirectiveScope().data),angular.forEach(t.dirs,function(t){angular.forEach(t.files,function(e){e.selected=!1}),e.resetFileDisplay(t)}),angular.forEach(t.files,function(e){e.selected=!1})},e.select=function(t,a){e.resetFileDisplay(),e.resetDisplay(e.data.dirs),e.data.files[a].selected=!0;var i=e.getPath();t.path=i;var n=e.data.dirs.length+e.data.files.length;t.itemNumber=n,r.$setViewValue(t),r.$render()},e.getHighestDirectiveScope=function(){var e=this;if(e.$parent.hasOwnProperty("level")){for(;0!==e.$parent.level;)e=e.$parent;return e.$parent}return this},e.getPath=function(){var e=this,t=[];if(e.hasOwnProperty("data")&&e.data.hasOwnProperty("name")&&t.push(e.data.name),e.$parent.hasOwnProperty("level"))for(;0!==e.$parent.level;)e=e.$parent,e.hasOwnProperty("data")&&t.push(e.data.name);return t.reverse()},e.$watch("data",function(t,a){e.resetDisplay(a.dirs),e.data=t,0===e.level&&(e.data.displayed=!0)})})}}}angular.module("finderTree.directives").directive("finderTreeWrapped",e),e.$inject=["$compile","RecursionHelper"]}(),function(){function e(){return{restrict:"E",require:"?^ngModel",scope:{data:"=",dataModel:"=ngModel"},transclude:!0,replace:!0,template:'<div style="overflow: auto; white-space: nowrap;"><finder-tree-wrapped data="data" ng-model="dataModel" data-ng-transclude></finder-tree-wrapped></div>',link:function(e,t,a,r){function i(t,a){angular.isDefined(a)&&a.length>0&&angular.forEach(t,function(t){t.name===a[0]&&(t.displayed=!0,t.selected=!0,a.shift(),0===a.length&&(e.itemNumber=t.dirs.length+t.files.length),i(t.dirs,a))})}e.$watch(function(){return r.$modelValue},function(t,a){if(angular.isDefined(a.path)&&angular.isDefined(t.path)&&a.path.length>t.path.length&&(e.$$childHead.resetDisplay(e.data.dirs),i(e.data.dirs,t.path.slice()),t.name===a.name)){e.$$childHead.resetFileDisplay(e.data);var n={};n.path=t.path,n.itemNumber=e.itemNumber,r.$setViewValue(n),r.$render()}},!0)}}}angular.module("finderTree.directives").directive("finderTree",e)}(),function(){function e(){return function(e){return void 0!==e?e+1:void 0}}angular.module("finderTree.filters").filter("filterLevel",e)}(),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(t,a){angular.isFunction(a)&&(a={post:a});var r,i=t.contents().remove();return{pre:a&&a.pre?a.pre:null,post:function(t,n){r||(r=e(i)),r(t,function(e){n.append(e)}),a&&a.post&&a.post.apply(null,arguments)}}}}}]);